<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: router.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: router.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// const router = {};
// export default router;

export const router = {};

/**
 *
 * @param {*} state An object that has data about the caller and will switch pages based on that information
 */
router.setState = function switchState(state) {
    const body = document.querySelector('body');
    const title = document.querySelector('.title');
    const keyButton = document.querySelector('key-button');
    // const newKeyButton = document.createElement('key-button');

    switch (state.page) {
        case 'home': {
            body.id = 'home';
            const logLists = document.querySelectorAll('log-list');
            logLists[0].type = 'daily';
            logLists[1].type = 'weekly';
            logLists[2].type = 'monthly';
            logLists[3].type = 'future'; // !!! log lists aren't properly set unless we switch to home from a different page, calling setState
            break;
        }
        case 'daily': {
            // swap the ID to daily, show the daily divs
            // delete any leftover custom textareas from last time we were here
            // create new textareas with date passed in
            // textarea needs to pull data and save data to that date in the storage
            // pushState();
            body.id = 'daily-log';
            title.textContent = state.date;

            const singlePage = document.querySelector('.single-page');
            const newPage = document.createElement('bullet-entries');
            newPage.logtype = 'daily';
            newPage.date = state.date;
            newPage.position = 1;
            if (singlePage.children.length > 0) {
                singlePage.replaceChild(newPage, singlePage.lastElementChild);
            } else {
                singlePage.appendChild(newPage);
            }
            keyButton.logtype = 'daily';

            break;
        }
        case 'weekly': {
            body.id = 'weekly-log';
            title.textContent = state.date;

            const leftPage = document.querySelector('.weekly-log-left-grid');

            let counter = 1;
            // eslint-disable-next-line no-restricted-syntax
            for (const day of leftPage.children) {
                const newPage = document.createElement('bullet-entries');
                newPage.logtype = 'weekly';
                newPage.date = state.date;
                newPage.position = counter;
                if (day.children.length > 0) {
                    day.removeChild(day.lastElementChild);
                }
                day.appendChild(newPage);

                counter += 1;
            }

            const rightPage = document.querySelector('.weekly-log-right-grid');

            // eslint-disable-next-line no-restricted-syntax
            for (const day of rightPage.children) {
                const newPage = document.createElement('bullet-entries');
                newPage.logtype = 'weekly';
                newPage.date = state.date;
                newPage.position = counter;
                if (day.children.length > 0) {
                    day.removeChild(day.lastElementChild);
                }
                day.appendChild(newPage);

                counter += 1;
            }
            keyButton.logtype = 'weekly';
            break;
        }
        case 'monthly': {
            body.id = 'monthly-log';
            title.textContent = state.date;

            const leftPage = document.querySelector('.monthly-left');
            let counter = 1;
            // eslint-disable-next-line no-restricted-syntax
            for (const week of leftPage.children) {
                const newPage = document.createElement('bullet-entries');
                newPage.logtype = 'monthly';
                newPage.date = state.date;
                newPage.position = counter;
                if (week.children.length > 0) {
                    week.removeChild(week.lastElementChild);
                }
                week.appendChild(newPage);

                counter += 1;
            }
            const rightPage = document.querySelector('.monthly-right');
            // eslint-disable-next-line no-restricted-syntax
            for (const week of rightPage.children) {
                const newPage = document.createElement('bullet-entries');
                newPage.logtype = 'monthly';
                newPage.date = state.date;
                newPage.position = counter;
                if (week.children.length > 0) {
                    week.removeChild(week.lastElementChild);
                }
                week.appendChild(newPage);

                counter += 1;
            }
            keyButton.logtype = 'monthly';
            break;
        }
        case 'future': {
            body.id = 'future-log';
            title.textContent = state.date;

            const mainPage = document.querySelector(
                '.future-log-grid-container'
            );
            const monthNamesFirstHalf = [
                'JAN',
                'FEB',
                'MAR',
                'APR',
                'MAY',
                'JUN',
            ];
            const monthNamesSecondHalf = [
                'JUL',
                'AUG',
                'SEP',
                'OCT',
                'NOV',
                'DEC',
            ];
            // Renaming Divs appropriately
            for (let i = 0; i &lt; mainPage.children.length; i += 1) {
                console.log(state.whichHalf);
                if (state.whichHalf === 1) {
                    mainPage.children[i].innerHTML = monthNamesFirstHalf[i];
                } else {
                    mainPage.children[i].innerHTML = monthNamesSecondHalf[i];
                }
            }

            let counter = 1;
            // eslint-disable-next-line no-restricted-syntax
            for (const month of mainPage.children) {
                const newPage = document.createElement('bullet-entries');
                newPage.logtype = 'future';
                newPage.date = state.date;
                newPage.position = counter;
                if (month.children.length > 0) {
                    month.removeChild(month.lastElementChild);
                }
                month.appendChild(newPage);

                counter += 1;
            }
            keyButton.logtype = 'future';
            break;
        }
        default: {
            break;
        }
    }
    // page switches to daily, date is given somehow? create bulletEntry dynamically, set date
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getAllKeys">getAllKeys</a></li><li><a href="global.html#getEntryFromStorage">getEntryFromStorage</a></li><li><a href="global.html#saveEntryToStorage">saveEntryToStorage</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Sat Jun 05 2021 00:39:44 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
